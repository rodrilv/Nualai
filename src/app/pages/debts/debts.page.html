<ion-header>
  <ion-toolbar>
    <ion-title>
      <ion-icon (click)="closeModal()" name="arrow-back-outline"></ion-icon>
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar
      placeholder="Buscar por ID"
      (ionChange)="buscarMiembro($event)"
    ></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngFor="let mb of this.members">
    <ion-card-header>
      <ion-card-subtitle style="color: green">INSCRITO</ion-card-subtitle>
      <ion-card-subtitle style="color: grey">{{mb._id}}</ion-card-subtitle>
      <ion-card-title
        >{{mb.datosGenerales.nombres+"
        "+mb.datosGenerales.apellidos}}</ion-card-title
      >
      <ion-text>{{"Tel√©fono: "+mb.datosGenerales.telefono}}</ion-text><br />
      <ion-text>{{"Correo: "+mb.datosGenerales.correo}}</ion-text>
    </ion-card-header>

    <ion-card-content>
      <ion-accordion-group>
        <ion-accordion value="colors" toggle-icon="arrow-down-circle">
          <ion-item slot="header">
            <ion-label>Semanalidades</ion-label>
          </ion-item>

          <ion-list slot="content">
            <div *ngFor="let pago of mb.datosPago.semanas">
              <ion-item *ngIf="pago.status === 'PAGADO'" disabled>
                <ion-label
                  >{{"Semana: "+pago.semana }}<ion-text style="color: green"
                    >{{" "+pago.status}}</ion-text
                  ></ion-label
                >
                <ion-checkbox checked="true"></ion-checkbox>
              </ion-item>
              <ion-item *ngIf="pago.status === 'ADEUDO'">
                <ion-label
                  >{{"Semana: "+pago.semana }}<ion-text style="color: red"
                    >{{" "+pago.status}}</ion-text
                  ></ion-label
                >
                <ion-checkbox
                  value="{{pago.semana}}"
                  (ionChange)="calcularSemanalidades($event)"
                  [disabled]="this.formFlag"
                ></ion-checkbox>
              </ion-item>
            </div>
            <ion-item>
              <ion-button
                [disabled]="this.total === 0 || this.buttonFlag"
                expand="full"
                (click)="pagarSemanalidades()"
                >PAGAR</ion-button
              >
            </ion-item>
          </ion-list>
        </ion-accordion>
      </ion-accordion-group>
    </ion-card-content>
  </ion-card>
</ion-content>
